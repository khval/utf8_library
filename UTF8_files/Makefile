# Makefile for project "UTF8"
# Automatically generated by idltool
# 
# $Id$
# 

# Uncomment the next line if you are cross compiling
# CROSS_COMPILE = ppc-amigaos-

CC     = $(CROSS_COMPILE)gcc 
CXX    = $(CROSS_COMPILE)c++ 
AS     = $(CROSS_COMPILE)as 
LD     = $(CROSS_COMPILE)ld 
RANLIB = $(CROSS_COMPILE)ranlib 
RM     = delete
# RM     = rm

# Change these as required
OPTIMIZE = -O3
DEBUG    = # -gstabs -DDEBUG 
CFLAGS   = -Wall $(OPTIMIZE) $(DEBUG) -Iinclude 

# Flags passed to gcc during linking
LINK = 

# Name of the "thing" to build
TARGET = UTF8.library

# Additional linker libraries
LIBS = 

# Version of the library to build
VERSION = 53

# "main" Interface Source Files
main_SRCS = main/Obtain.c main/Release.c \
	main/UTF8Decode.c main/UTF8Encode.c \
	main/UTF8EstimateByteSize.c main/UTF8GetGlyph.c main/UTF8GetGlyphAt.c main/UTF8SetGlyph.c main/UTF8Length.c \
	main/UTF8ToLower.c main/UTF8ToUpper.c main/UTF8SubString.c main/UTF8IndexOf.c main/UTF8GetSize.c main/UTF8Printf.c \
	main/UTF8Merge.c main/UTF8Left.c main/UTF8Right.c main/UTF8GetOffsetSize.c main/UTF8Insert.c main/UTF8Trim.c \
	main/UTF8remove.c main/UTF8ModToUpper.c main/UTF8ModToLower.c \
	main/UTF8ModLeft.c main/UTF8ModRight.c main/UTF8ModTrim.c main/UTF8ModSubString.c \
	main/UTF8ModRemove.c main/UTF8ModInsert.c main/UTF8Copy.c main/UTF8cmp.c main/UTF8casecmp.c main/UTF8FindGlyph.c \
	main/UTF8graphics.c

# -------------------------------------------------------------
# Nothing should need changing below this line

SRCS = init.c

OBJS = $(main_SRCS:.c=.o)  $(SRCS:.c=.o)
# Rules for building
$(TARGET): $(OBJS)
	$(CC)  $(LINK) -nostartfiles $(OBJS) $(LIBS)  -o $(TARGET) 

.PHONY: clean
clean:
	$(RM) $(TARGET) $(OBJS)

init.o: init.c libbase.h UTF8.library_rev.h UTF8_vectors.c ../include/interfaces/UTF8.h
	$(CXX)  -Wall -O3  -Iinclude -fpermissive -c -o init.o init.c


%.o:		%.c
	$(CXX)  -Wall -O3  $(INC) $(DEBUG) -c  -D__USE_INLINE__ -D__no_stdlib__ $(@:.o=.c) -o $@


.PHONY: revision
revision:
	bumprev $(VERSION) $(TARGET)

